function SuiType(a){if(this.max={},this.min={},this.d={},this.a=-5,this.options,this.kerning=!0,this.ligatures=!0,this.countours=[],this.countArr=0,this.count_fonts=0,this.pageSelected,this.fontScale,this.fontBaseline,this.glyphScale,this.glyphSize,this.glyphBaseline,this.font1="1",this.font2="2",this.fontFileName1,this.fontFileName2,this.limit,this.fontSize,this.textToRender,this.percentage,this.animateonEnter,this.canvas,this.snapCtx,this.width,this.height,this.mode,this.color,this.chosenLetters=0,this.error=[],this.percentagaPerLetter=[],this.animateValue=0,a=a||{},!a.empty){if(void 0===a.color?this.color="black":this.color=a.color,void 0===a.fonte1?error.push("Font 1 not defined!"):this.fontFileName1=a.fonte1,void 0===a.fonte2&&void 0!==a.fonte1?this.mode="deform":void 0===a.fonte2?this.error.push("Font 2 not defined!"):this.fontFileName2=a.fonte2,void 0===a.strokeWidth?this.strokeWidth=0:this.strokeWidth=a.strokeWidth,void 0===a.stroke?this.stroke="transparent":this.stroke=a.stroke,void 0!==a.mode){if(void 0===a.fonte2&&void 0!==a.fonte1)this.mode="deform";else if("firstLetter"!=a.mode&&"equal"!=a.mode&&"random"!=a.mode&&"firstLetter"!=a.mode&&"lastLetter"!=a.mode&&"middleLetter"!=a.mode&&"chosenLetter"!=a.mode&&"deform"!=a.mode)void 0===a.fonte2?this.mode="deform":this.mode="random";else if(this.mode=a.mode,"chosenLetter"==this.mode)if(void 0!==a.chosenLetters){this.chosenLetters=[];for(var b=0;b<a.chosenLetters.length;b++)a.chosenLetters[b]<=a.textToRender.length&&this.chosenLetters.push(a.chosenLetters[b])}else this.error.push("Need to chose the letter to stretch!")}else this.mode="equal";void 0!==a.start?this.start=a.start:this.start="max",void 0!==a.fontSize?(this.boxHeight=a.fontSize,this.fontSize=a.fontSize):(this.fontSize=100,this.boxHeight=100),void 0!==a.textToRender?this.textToRender=a.textToRender:this.error.push("Text to Render is not defined!"),void 0!==a.canvasWidthMode&&("percentage"==a.canvasWidthMode||"pixels"==a.canvasWidthMode)?this.WidthMode=a.canvasWidthMode:this.WidthMode="percentage",void 0!==a.canvasID?$("#"+a.canvasID).is("canvas")?(this.canvasID=a.canvasID,this.canvas=document.getElementById(a.canvasID),this.snapCtx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=1.2*a.fontSize,$("#"+this.canvasID).attr("height",this.height),void 0!==a.canvasWidth?this.canvasWidth=a.canvasWidth:this.canvasWidth=100):this.error.push("The ID of the element, is not a canvas!"):this.error.push("Id of canvas to draw is not defined!"),void 0!==a.animateonEnter?this.animateonEnter=a.animateonEnter:this.animateonEnter=!1,this.limit=1,this.percentage=0}this.options={kerning:this.kerning,features:{liga:this.ligatures,rlig:this.ligatures}}}setLinks=function(a){},SuiType.prototype.changeCanvasWidthDraw=function(a){var b=$("#"+this.canvasID);if("percentage"==this.WidthMode)var c=$(window).width()*a/100;else var c=a;this.canvasWidth=a,b.attr("width",c),this.getLimit(),this.interpolate()},SuiType.prototype.changeCanvasWidth=function(a){var b=$("#"+this.canvasID);if("percentage"==this.WidthMode)var c=$(window).width()*a/100;else var c=a;b.attr("width",c)},SuiType.prototype.changeCanvasWidthSetup=function(){var a=$("#"+this.canvasID);if("percentage"==this.WidthMode)var b=$(window).width()*this.canvasWidth/100;else var b=this.canvasWidth;a.attr("width",b)},SuiType.prototype.getAnimate=function(){return this.animateonEnter},SuiType.prototype.getFontSize=function(){return this.fontSize},SuiType.prototype.setFontSize=function(a){this.fontSize=a},SuiType.prototype.animate=function(a,b,c){var d=this.getMinWidth();if("increase"==c?this.animateValue+=a:this.animateValue-=a,"percentage"==this.WidthMode)var e=$(window).width()*this.canvasWidth/100;else var e=this.canvasWidth;if(this.animateValue<=0&&"decrease"==c)this.setWithMin(),this.animateValue=0,clearInterval(b);else if(this.animateValue>=e&&"increase"==c)this.animateValue=e-d,clearInterval(b);else{var f=(d+this.animateValue)/e*100;f>this.canvasWidth&&(f=this.canvasWidth,"min"==this.start&&clearInterval(b)),this.changeCanvasWidth(f),this.windowResized();x}},SuiType.prototype.getTotalIncrease=function(a,b){var c=this.getMinWidth();if("percentage"==this.WidthMode)var d=$(window).width()*this.canvasWidth/100;else var d=this.canvasWidth;return d-c},SuiType.prototype.setWithMin=function(){var a=this.getMinWidth();if("percentage"==this.WidthMode)var b=$(window).width()*this.canvasWidth/100;else var b=this.canvasWidth;var d=(this.canvasWidth,a*this.canvasWidth/b);a>b&&(d=this.canvasWidth),this.changeCanvasWidth(d),this.windowResized()},SuiType.prototype.getMinWidth=function(){return this.font1.checkWords(this.textToRender,0,this.boxHeight,this.fontSize,this.options)},SuiType.prototype.getStart=function(){return this.start},SuiType.prototype.runSuiType=function(){var a=this;if(this.changeCanvasWidthSetup(),0==this.error.length)opentype.load(this.fontFileName1,function(b,c){if(b)return void showErrorMessage(b.toString());a.onFontLoaded(c,1)}),"deform"!=this.mode&&opentype.load(this.fontFileName2,function(b,c){if(b)return void showErrorMessage(b.toString());a.onFontLoaded(c,2)});else{for(var b="",c=0;c<this.error.length;c++)b+=c+1+".  "+this.error[c]+"\n";alert(b)}},SuiType.prototype.onFontLoaded=function(a,b){1==b?this.font1=a:"deform"!=this.mode&&(this.font2=a),window.font=a;this.width,this.height,this.textToRender;this.countArr=0,(++this.count_fonts>=2&&"deform"!=this.mode||"deform"==this.mode)&&(this.getLimit(),"min"!=this.start&&1!=this.animateonEnter||this.setWithMin(),this.interpolate())},SuiType.prototype.showErrorMessage=function(a){var b=document.getElementById("message");a&&0!==a.trim().length?b.style.display="block":b.style.display="none",b.innerHTML=a},SuiType.prototype.pathCommandToString=function(a){return"<strong>"+a.type+"</strong> "+(void 0!==a.x?"x="+a.x+" y="+a.y+" ":"")+(void 0!==a.x1?"x1="+a.x1+" y1="+a.y1+" ":"")+(void 0!==a.x2?"x2="+a.x2+" y2="+a.y2:"")},SuiType.prototype.contourToString=function(a){return'<pre class="contour">'+a.map(function(a){return'<span class="'+(a.onCurve?"on":"off")+'curve">x='+a.x+" y="+a.y+"</span>"}).join("\n")+"</pre>"},SuiType.prototype.formatUnicode=function(a){return a=a.toString(16),a.length>4?("000000"+a.toUpperCase()).substr(-6):("0000"+a.toUpperCase()).substr(-4)},SuiType.prototype.deform=function(a){var b;a.fill=this.color,a.stroke=this.stroke,a.strokeWidth=this.strokeWidth;for(var b=0;b<a.commands.length;b++){var c=a.commands[b];c.fill=this.color,"Z"!==c.type&&(c.x=c.x*this.percentage),"Q"!==c.type&&"C"!==c.type||(c.x1=c.x1*this.percentage),"C"===c.type&&(c.x2=c.x2*this.percentage)}},SuiType.prototype.doSnap=function(a,b){var c;if(a.fill=this.color,a.stroke=this.stroke,a.strokeWidth=this.strokeWidth,a.commands.length>0)for(var c=0;c<a.commands.length;c++){var d=a.commands[c],e=b.commands[c];d.fill=this.color,d.stroke=this.stroke,d.strokeWidth=this.strokeWidth,d.type===e.type?("Z"!==d.type&&(d.x=d.x+(e.x-d.x)*this.percentage,d.y!=e.y&&(void 0===this.a[c]&&(this.max[c]=d.y,this.min[c]=e.y,this.d[c]=(this.max[c]-this.min[c])*Math.exp(this.a*this.percentage)),d.y=this.d[c]*Math.exp(this.a*this.percentage)+this.min[c])),void 0!==e.x1&&void 0!==d.x1&&e.x1!=d.x1&&(d.x1=d.x1+(e.x1-d.x1)*this.percentage),void 0!==e.y1&&void 0!==d.y1&&(e.y1,d.y1),"Q"===d.type||d.type,d.type):alert("Need to check if font as the same points")}},SuiType.prototype.doSnaperLetter=function(a,b){var c=this.font1.stringToGlyphs(this.textToRender);if("equal"!=this.mode&&"deform"!=this.mode)for(var d,g=0;g<a.length;g++){var h=a[g],i=b[g];a[g].fill=this.color,a[g].stroke=this.stroke,a[g].strokeWidth=this.strokeWidth;for(var d=0;d<h.commands.length;d++){var j=h.commands[d],k=i.commands[d];j.type===k.type?(j.x=j.x,j.y=j.y,"Z"!==j.type&&(j.x=j.x+(k.x-j.x)*this.percentage[g],j.y!=k.y&&(void 0===this.a[d]&&(this.max[d]=j.y,this.min[d]=k.y,this.d[d]=(this.max[d]-this.min[d])*Math.exp(this.a*this.percentage[g])),j.y=this.d[d]*Math.exp(this.a*this.percentage[g])+this.min[d])),"Q"!==j.type&&"C"!==j.type||(k.x1!=j.x1&&(j.x1=j.x1+(k.x1-j.x1)*this.percentage[g]),k.y1!=j.y1&&(j.y1=this.d[d]*Math.exp(this.a*this.percentage)+this.min[d])),"C"===j.type&&(j.x2=j.x2+(k.x2-j.x2)*this.percentage[g])):alert("Need to check if font as the same points\nIn glyph "+c[g].name)}}else this.doSnap(a,b)},SuiType.prototype.windowResized=function(){this.snapCtx=this.canvas.getContext("2d"),this.start="min",this.width=this.canvas.width,this.height=this.canvas.height,this.getLimit(),this.interpolate()},SuiType.prototype.changeFontSizeDraw=function(a){this.setFontSize(a),this.getLimit(),this.interpolate()},SuiType.prototype.interpolate=function(){var a,b,c,d;if("equal"!=this.mode&&"deform"!=this.mode){this.percentage=this.getPercentageForLetters(),c=this.font1.getPathLetter(this.textToRender,0,this.boxHeight,this.fontSize,this.options),d=this.font2.getPathLetter(this.textToRender,0,this.boxHeight,this.fontSize,this.options),this.doSnaperLetter(c,d),this.snapCtx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var f=0,g=this.font1.stringToGlyphs(this.textToRender),h=0,i=0,j=0,k=0,m=0,n=0;n<c.length;n++){var o=c[n].getBoundingBox();c.length;if(0!=n&&(m=this.font1.getKerningValue(g[n],g[n]),this.convertMeasure(m),h=g[n].getMetrics().leftSideBearing,j=this.convertMeasure(h)),0==n)f=o.x1;else if(f+=s+k+j+m,"space"==g[n-1].name){var q=g[n-1].advanceWidth,r=this.convertMeasure(q);f+=r}i=g[n].getMetrics().rightSideBearing,k=this.convertMeasure(i);for(var s=o.x2-o.x1,t=0;t<c[n].commands.length;t++){var u=c[n].commands[t];"Z"!==u.type&&(u.x+=f),"Q"!==u.type&&"C"!==u.type||(u.x1+=f),"C"===u.type&&(u.x2+=f)}var o=c[n].getBoundingBox();c[n].draw(this.snapCtx),c[n].getBoundingBox()}}else"equal"==this.mode?(a=this.font1.getPath(this.textToRender,0,this.boxHeight,this.fontSize,this.options),b=this.font2.getPath(this.textToRender,0,this.boxHeight,this.fontSize,this.options),this.percentage=this.getPercentage(),this.doSnap(a,b),this.snapCtx.clearRect(0,0,this.canvas.width,this.canvas.height),a.draw(this.snapCtx)):(a=this.font1.getPath(this.textToRender,0,this.boxHeight,this.fontSize,this.options),this.percentage=this.getPercentage(),this.deform(a),this.snapCtx.clearRect(0,0,this.canvas.width,this.canvas.height),a.draw(this.snapCtx))},SuiType.prototype.dividString=function(a){var b=this.canvas.offsetWidth,c=a.split(" "),d=this.getMinWidth(),e=new Array,f=0,g=0,a="";if(d>=b)for(var h=0;h<c.length;h++)f=this.font1.checkWords(c[h],0,this.boxHeight,this.fontSize,this.options),g+f>b?(e.push(a),a=c[h]+" ",g=f):(a+=c[h]+" ",g+=f),h==c.length-1&&e.push(a);return e},SuiType.prototype.getPercentageForLetters=function(){var a=new Array;if("equal"!=this.mode||"deform"!=this.mode)for(var b=0;b<this.limit.length;b++)a[b]=this.limit[b];return a},SuiType.prototype.getPercentage=function(a){if("equal"!=this.mode&&"deform"!=this.mode){var b=new Array;b=this.limit}else if("equal"==this.mode)if(this.limit>=1)var b=1;else var b=this.limit;else var b=this.limit;return b},SuiType.prototype.reRandom=function(){"random"!=this.mode&&(this.mode="random"),this.percentage=0,this.limit=0,this.percentagaPerLetter=[],this.getLimit(),this.interpolate()},SuiType.prototype.changeMode=function(a){"firstLetter"!=a&&"equal"!=a&&"random"!=a&&"firstLetter"!=a&&"lastLetter"!=a&&"middleLetter"!=a&&"chosenLetter"!=a&&"deform"!=a||(this.mode=a,this.percentage=0,this.limit=0,this.percentagaPerLetter=[],this.getLimit(),this.interpolate())},SuiType.prototype.getMode=function(a){return this.mode},SuiType.prototype.changeText=function(a){this.textToRender=a,this.percentage=0,this.limit=0,this.percentagaPerLetter=[],this.getLimit(),this.interpolate()},SuiType.prototype.getText=function(a){return this.textToRender},SuiType.prototype.changeStrokeColor=function(a){this.stroke=a,this.interpolate()},SuiType.prototype.getStrokeColor=function(){return this.stroke},SuiType.prototype.changeStrokeWidth=function(a){this.strokeWidth=a,this.interpolate()},SuiType.prototype.getStrokeWidth=function(){return this.strokeWidth},SuiType.prototype.changeColor=function(a){this.color=a,this.interpolate()},SuiType.prototype.getColor=function(a){return this.color},SuiType.prototype.changeLettersSelect=function(a){var b=JSON.parse(a);this.chosenLetters=[];for(var c=0;c<b.length;c++);for(var d=0;d<b.length;d++)b[d]<=this.textToRender.length&&this.chosenLetters.push(b[d])},SuiType.prototype.getLimit=function(){var a=this.font1,b=0,c=this.canvas.offsetWidth,d=this.getMinWidth();if("deform"==this.mode){var e=c-b-d,f=(c-b)/d;this.limit=f}else{var f,g=this.font2,h=g.checkWords(this.textToRender,0,this.boxHeight,this.fontSize,this.options),i=h-d,j=a.checkWordsLetter(this.textToRender,0,this.boxHeight,this.fontSize,this.options),k=g.checkWordsLetter(this.textToRender,0,this.boxHeight,this.fontSize,this.options),l=this.font1.stringToGlyphs(this.textToRender);if("equal"!=this.mode){c-=b;var m=c;if(this.textToRender.indexOf(" ")>=0)for(var n=0;n<j.length;n++)"space"==l[n].name&&(m-=j[n]);var e=c-parseInt(d);if(0==this.percentage){var o=[],p=1-j.length/100*1.5;if(e>0){var q=e,r=[];o=[];for(var s=0;s<j.length;s++){var t=k[s]-j[s];if(0==t){var u=j[s],v=u/c,w=0;this.percentagaPerLetter.push(v)}else if("random"==this.mode){if(s==j.length-1)var x=q;else if("space"==l[s].name)var x=0;else{var x=Math.round(Math.random()*q*p);x>k[s]&&(x=k[s])}r.push(x+j[s]),q-=x;var u=x+j[s],w=this.getLimit_byWidth(u,j[s],t),v=u/c;this.percentagaPerLetter.push(v)}else if("firstLetter"==this.mode){if(0==s)var u=q+j[s];else var u=j[s];r.push(u);var w=this.getLimit_byWidth(u,j[s],t),v=u/c;this.percentagaPerLetter.push(v)}else if("lastLetter"==this.mode){if(s==j.length-1)var u=q+j[s];else var u=j[s];r.push(u);var w=this.getLimit_byWidth(u,j[s],t),v=u/c;this.percentagaPerLetter.push(v)}else if("middleLetter"==this.mode){var y=parseInt(j.length/2);if(s==y)var u=q+j[s];else var u=j[s];r.push(u);var w=this.getLimit_byWidth(u,j[s],t),v=u/c;this.percentagaPerLetter.push(v)}else if("chosenLetter"==this.mode){for(var z=this.chosenLetters.length,A=q/z,u=0,n=0;n<this.chosenLetters.length;n++){if(s+1==this.chosenLetters[n]){var u=A+j[s];break}var u=j[s]}var w=this.getLimit_byWidth(u,j[s],t),v=u/c;this.percentagaPerLetter.push(v)}o.push(w)}}else{var B=this.fontSize,D=c/d*B;this.fontSize=D,this.height=1.2*D,this.boxHeight=D,$("#"+this.canvasID).attr("height",this.height);for(var d=this.getMinWidth(),h=g.checkWords(this.textToRender,0,this.boxHeight,D,this.options),j=a.checkWordsLetter(this.textToRender,0,this.boxHeight,D,this.options),k=g.checkWordsLetter(this.textToRender,0,this.boxHeight,D,this.options),l=this.font1.stringToGlyphs(this.textToRender),s=0;s<j.length;s++){var t=k[s]-j[s],q=c-d;if(0==t){w=0;var u=j[s],v=u/c,w=0;this.percentagaPerLetter.push(v)}else if("random"==this.mode){var p=1-j.length/100*1.5;if(s==j.length-1)var x=q;else if("space"==l[s].name)var x=0;else{var x=Math.round(Math.random()*q*p);x>k[s]&&(x=k[s])}q-=x;var u=x+j[s],v=u/c;this.percentagaPerLetter.push(v)}else if("firstLetter"==this.mode){if(0==s)var u=q+j[s];else var u=j[s];var v=u/c;this.percentagaPerLetter.push(v)}else if("lastLetter"==this.mode){if(s==j.length-1)var u=q+j[s];else var u=j[s];var v=u/c;this.percentagaPerLetter.push(v)}else if("middleLetter"==this.mode){var y=parseInt(j.length/2);if(s==y)var u=q+j[s];else var u=j[s];var v=u/c;this.percentagaPerLetter.push(v)}else if("chosenLetter"==this.mode){for(var z=this.chosenLetters.length,A=q/z,u=0,n=0;n<this.chosenLetters.length;n++){if(s+1==this.chosenLetters[n]){var u=A+j[s];break}var u=j[s]}var v=u/c;this.percentagaPerLetter.push(v)}o.push(0)}}this.limit=o}else{var E=this.getAllGlyphWidth(this.limit,j,k),F=this.canvas.offsetWidth,h=this.getSumGlyphsWithoutMargin(k),H=(this.getSumGlyphsWithoutMargin(E),this.font1.stringToGlyphs(this.textToRender)),I=c,J=0,K=0;if(this.textToRender.indexOf(" ")>=0)for(var n=0;n<j.length;n++){var i=k[n]-j[n];"space"==H[n].name?(I-=j[n],J+=j[n],K+=J):K+=this.getWith_byLimit(j[n],this.limit[n],i)}var M=F-J;if(this.textToRender.indexOf(" ")>=0)for(var N=0,n=0;n<j.length;n++){var i=k[n]-j[n];if("space"!=H[n].name){N+=this.percentagaPerLetter[n];var O=this.percentagaPerLetter[n];this.percentagaPerLetter[n]=M*O/I}}var P=this.widthOverload(F,j,k),Q=0;if(d<F)for(var R=0;R<this.limit.length;R++){var i=k[R]-j[R],S=0,o=0,u=0,U=(this.getWith_byLimit(j[R],this.limit[R],i),j[R]);if("space"!=H[R].name)var V=F*this.percentagaPerLetter[R];else var V=U;var S=V-U;P>0?U<=V&&"space"!=H[R].name?P>S?(u=U,P-=S):"space"!=H[R].name?(u=V-P,P=0):u=U:u=U:u=U<V&&"space"!=H[R].name?V:U,o="space"!=H[R].name?this.getLimit_byWidth(u,j[R],i):0,this.limit[R]=o,Q+=u}else{for(var R=0;R<this.limit.length;R++)o=0,this.limit[R]=o,u=j[R],Q+=u;var B=this.fontSize,D=F/d*B;this.fontSize=D,this.height=1.2*D,this.boxHeight=D,$("#"+this.canvasID).attr("height",this.height)}}}else{this.getGlyphsWithoutMarginArraySum(c);if(h>c&&d<c)f=this.getLimit_byWidth(c,d,i);else if(d>=c){f=0;var B=this.fontSize,D=c/d*B;this.fontSize=D,this.boxHeight=D,this.height=1.2*D,$("#"+this.canvasID).attr("height",this.height)}else f=1;this.limit=f}}},SuiType.prototype.getLimit_byWidth=function(a,b,c){return(a-b)/c},SuiType.prototype.getWith_byLimit=function(a,b,c){return c*b+a},SuiType.prototype.getAllGlyphWidth=function(a,b,c){for(var d=a,e=b,f=c,g=new Array,h=0;h<d.length;h++){var i=f[h]-e[h],j=this.getWith_byLimit(b[h],d[h],i);g[h]=j}return g},SuiType.prototype.getSumGlyphsWithMargin=function(a){for(var b=this.font1.stringToGlyphs(this.textToRender),c=a,d=0,e=0,f=0,g=0,h=0,i=0;i<a.length;i++)e=b[i].getMetrics().rightSideBearing,g=this.convertMeasure(e),d+=c[i]+g+h,f=b[i].getMetrics().leftSideBearing,h=this.convertMeasure(f);return console.log("TOTAL     "+d),d},SuiType.prototype.getSumGlyphsWithoutMargin=function(a){for(var c=(this.font1.stringToGlyphs(this.textToRender),a),d=0,e=0;e<a.length;e++)d+=c[e];return d},SuiType.prototype.getSumGlyphsWithMarginArray=function(a){for(var b=this.font1.stringToGlyphs(this.textToRender),c=a,d=new Array,e=0,f=0,g=0,h=0,i=0;i<a.length;i++)e=b[i].getMetrics().rightSideBearing,g=this.convertMeasure(e),d[i]=c[i]+g+h,f=b[i].getMetrics().leftSideBearing,h=this.convertMeasure(f);return d},SuiType.prototype.getGlyphsWithoutMarginArray=function(a){for(var b=this.font1.stringToGlyphs(this.textToRender),c=a,d=new Array,e=0,f=0,g=0,h=0,i=0;i<a.length;i++)e=b[i].getMetrics().rightSideBearing,g=this.convertMeasure(e),f=b[i].getMetrics().leftSideBearing,h=this.convertMeasure(f),d[i]=c[i]-g-h;return d},SuiType.prototype.getGlyphsWithoutMarginArraySum=function(a){for(var b=this.font1.stringToGlyphs(this.textToRender),c=a,d=0,e=0,f=0,g=0,h=0;h<b.length;h++)d=b[h].getMetrics().rightSideBearing,f=this.convertMeasure(d),e=b[h].getMetrics().leftSideBearing,g=this.convertMeasure(e),c+=-f-g;return c},SuiType.prototype.getGlyphWithMargin=function(a,b){var c=this.font1.stringToGlyphs(this.textToRender),d=parseInt(b),f=c[d].getMetrics().rightSideBearing,g=this.convertMeasure(f),h=c[d].getMetrics().leftSideBearing;return a+g+this.convertMeasure(h)},SuiType.prototype.getGlyphWith_withoutMargin=function(a,b){var c=this.font1.stringToGlyphs(this.textToRender),e=c[b].getMetrics().rightSideBearing,f=this.convertMeasure(e),g=c[b].getMetrics().leftSideBearing;return a-f-this.convertMeasure(g)},SuiType.prototype.convertMeasure=function(a){return a*(1/(this.options.unitsPerEm||1e3)*this.fontSize)},SuiType.prototype.widthOverload=function(a,b,c){for(var e=b,g=this.font1.stringToGlyphs(this.textToRender),h=0,i=0;i<this.limit.length;i++){var j=this.percentagaPerLetter[i],k=e[i];if("space"!=g[i].name)var l=a*j;else var l=k;l<=k&&(h+=k-l)}return h};